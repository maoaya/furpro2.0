<!DOCTYPE html>
<html>
<head>
    <title>Prueba Manual de Registro - FutPro VIP</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 800px; margin: 50px auto; padding: 20px; }
        .test-box { border: 2px solid #FFD700; padding: 20px; margin: 20px 0; border-radius: 10px; }
        .success { background-color: #d4edda; border-color: #28a745; }
        .warning { background-color: #fff3cd; border-color: #ffc107; }
        .error { background-color: #f8d7da; border-color: #dc3545; }
        .step { margin: 15px 0; padding: 10px; background: #f8f9fa; border-radius: 5px; }
        pre { background: #f1f1f1; padding: 10px; border-radius: 5px; overflow-x: auto; }
        .highlight { background: #FFD700; padding: 2px 4px; border-radius: 3px; }
    </style>
</head>
<body>
    <h1>üß™ Prueba Manual de Registro - FutPro VIP</h1>
    
    <div class="test-box warning">
        <h2>üìã Instrucciones de Prueba</h2>
        <p><strong>Objetivo:</strong> Verificar que el registro funciona y redirige a /home</p>
        <p><strong>Auto-Confirm:</strong> <span class="highlight">ACTIVO</span> - No necesitas confirmar email</p>
    </div>
    
    <div class="test-box">
        <h2>üéØ Pasos a Seguir</h2>
        
        <div class="step">
            <h3>Paso 1: Abrir Formulario de Registro</h3>
            <p>Opciones disponibles:</p>
            <ul>
                <li><a href="https://futpro.vip/registro" target="_blank">üîó Registro Simple (/registro)</a></li>
                <li><a href="https://futpro.vip/registro-completo" target="_blank">üîó Registro Completo (/registro-completo)</a></li>
            </ul>
        </div>
        
        <div class="step">
            <h3>Paso 2: Verificar Banner de Auto-Confirm</h3>
            <p>Deber√≠as ver un banner amarillo que dice:</p>
            <pre>"‚ö†Ô∏è Modo QA: La verificaci√≥n por email est√° desactivada para pruebas"</pre>
            <p>Si no lo ves, la configuraci√≥n podr√≠a no estar activa.</p>
        </div>
        
        <div class="step">
            <h3>Paso 3: Llenar Datos de Prueba</h3>
            <p>Usa estos datos de ejemplo:</p>
            <pre>
Nombre: Test Usuario FutPro
Email: test.usuario.$(Date.now())@futpro.test
Contrase√±a: password123
Confirmar Contrase√±a: password123
            </pre>
            <p><em>El timestamp en el email evita duplicados</em></p>
        </div>
        
        <div class="step">
            <h3>Paso 4: Enviar Formulario</h3>
            <p>Haz clic en "Crear Cuenta" o "Registrarse"</p>
            <p><strong>Resultado esperado:</strong></p>
            <ul>
                <li>‚úÖ No aparece mensaje de "revisa tu email"</li>
                <li>‚úÖ Mensaje de √©xito aparece brevemente</li>
                <li>‚úÖ Redirecci√≥n autom√°tica a /home en 1.5 segundos</li>
            </ul>
        </div>
        
        <div class="step">
            <h3>Paso 5: Verificar Redirecci√≥n</h3>
            <p>Despu√©s del registro, deber√≠as estar en:</p>
            <pre>https://futpro.vip/home</pre>
            <p>O una p√°gina similar con contenido de home/dashboard</p>
        </div>
    </div>
    
    <div class="test-box">
        <h2>üîß C√≥digo para Consola (Opcional)</h2>
        <p>Si quieres automatizar, abre la consola del navegador (F12) y ejecuta:</p>
        <pre>
// C√≥digo de prueba autom√°tica
async function testAutoRegistro() {
  const testEmail = `test.${Date.now()}@futpro.test`;
  console.log('üß™ Probando con email:', testEmail);
  
  // Llenar campos si existen
  const inputs = {
    nombre: document.querySelector('input[name="nombre"]'),
    email: document.querySelector('input[type="email"]'),
    password: document.querySelectorAll('input[type="password"]')[0],
    confirmPassword: document.querySelectorAll('input[type="password"]')[1]
  };
  
  if (inputs.nombre) inputs.nombre.value = 'Test Usuario FutPro';
  if (inputs.email) inputs.email.value = testEmail;
  if (inputs.password) inputs.password.value = 'password123';
  if (inputs.confirmPassword) inputs.confirmPassword.value = 'password123';
  
  // Disparar eventos de cambio
  Object.values(inputs).forEach(input => {
    if (input) input.dispatchEvent(new Event('input', { bubbles: true }));
  });
  
  console.log('‚úÖ Campos llenados. Env√≠a manualmente el formulario.');
}

// Ejecutar
testAutoRegistro();
        </pre>
    </div>
    
    <div class="test-box">
        <h2>üìä Resultados Esperados</h2>
        
        <div class="step success">
            <h3>‚úÖ Flujo Exitoso</h3>
            <ol>
                <li>Banner de auto-confirm visible</li>
                <li>Formulario se env√≠a sin errores</li>
                <li>NO aparece mensaje de "revisa tu email"</li>
                <li>Mensaje de √©xito breve</li>
                <li>Redirecci√≥n autom√°tica a /home</li>
                <li>Usuario puede usar la aplicaci√≥n inmediatamente</li>
            </ol>
        </div>
        
        <div class="step error">
            <h3>‚ùå Posibles Problemas</h3>
            <ul>
                <li><strong>Sin banner:</strong> Auto-confirm no est√° activo</li>
                <li><strong>Mensaje "revisa email":</strong> Modo normal activo</li>
                <li><strong>No redirige:</strong> Error en la l√≥gica de navegaci√≥n</li>
                <li><strong>Error de validaci√≥n:</strong> Campos incompletos o inv√°lidos</li>
            </ul>
        </div>
    </div>
    
    <div class="test-box warning">
        <h2>üîç Informaci√≥n T√©cnica</h2>
        <p><strong>Configuraci√≥n Activa:</strong></p>
        <ul>
            <li>VITE_AUTO_CONFIRM_SIGNUP=true en netlify.toml</li>
            <li>Auto-confirm logic en utils/autoConfirmSignup.js</li>
            <li>Redirect logic: localStorage.setItem('postLoginRedirect', '/home')</li>
            <li>Navigation: navigate('/home', { replace: true }) despu√©s de 1.5s</li>
        </ul>
    </div>
    
    <script>
        // C√≥digo para copiar email de prueba
        function generateTestEmail() {
            return `test.${Date.now()}@futpro.test`;
        }
        
        console.log('üìß Email de prueba generado:', generateTestEmail());
        console.log('üß™ P√°gina de prueba cargada. Sigue las instrucciones paso a paso.');
    </script>
</body>
</html>