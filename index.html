<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FutPro 2.0 - Plataforma de Gesti√≥n Deportiva</title>
    <meta name="description" content="FutPro 2.0 - La mejor plataforma para gestionar tu carrera deportiva" />
    
    <!-- Preload critical resources -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    
    <!-- Meta tags for SEO -->
    <meta property="og:title" content="FutPro 2.0" />
    <meta property="og:description" content="Plataforma de gesti√≥n deportiva profesional" />
    <meta property="og:type" content="website" />
    
    <!-- Security -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline' fonts.googleapis.com; font-src 'self' fonts.gstatic.com; img-src 'self' data: blob: https:; connect-src 'self' https: wss:;">
</head>
<body>
    <div id="root"></div>
    
    <!-- üö® LOGIN DE EMERGENCIA PURO HTML - Se muestra si React falla -->
    <div id="emergency-login" style="display: none; min-height: 100vh; background: linear-gradient(135deg, #222 0%, #333 100%); display: flex; align-items: center; justify-content: center; font-family: Arial, sans-serif;">
        <div style="background: #1a1a1a; border: 2px solid #FFD700; border-radius: 20px; padding: 40px; max-width: 400px; width: 100%; text-align: center; box-shadow: 0 10px 30px rgba(255, 215, 0, 0.3);">
            <div style="margin-bottom: 30px;">
                <div style="font-size: 48px; margin-bottom: 10px;">‚öΩ</div>
                <h1 style="color: #FFD700; margin: 0; font-size: 24px;">FutPro</h1>
                <p style="color: #ccc; margin: 5px 0 0 0; font-size: 14px;">Plataforma de F√∫tbol</p>
            </div>
            
            <button onclick="window.location.href='https://qqrxetxcglwrejtblwut.supabase.co/auth/v1/authorize?provider=google&redirect_to=https://futpro.vip/auth/callback'" style="width: 100%; padding: 12px; margin-bottom: 12px; background: #4285f4; color: #fff; border: none; border-radius: 8px; font-size: 16px; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 10px;">
                <span>üåê</span>Continuar con Google
            </button>
            
            <button onclick="window.location.href='/registro-nuevo'" style="width: 100%; padding: 15px; background: linear-gradient(135deg, #3b82f6, #1d4ed8); color: white; border: none; border-radius: 12px; font-size: 16px; cursor: pointer; font-weight: bold; display: flex; align-items: center; justify-content: center; gap: 10px; box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4); margin-top: 20px;">
                <span>üë§</span>Crear Usuario
            </button>
        </div>
    </div>
    
    <!-- üîß SCRIPT GLOBAL DE NAVEGACION ULTRA-ROBUSTO -->
    <script>
        // Script de navegaci√≥n ultra-robusto inline para m√°xima compatibilidad
        (function() {
            'use strict';
            console.log('üî• Sistema de emergencia inicializado');
            
            // Verificar que React se cargue en 3 segundos
            setTimeout(() => {
                const root = document.getElementById('root');
                const emergencyLogin = document.getElementById('emergency-login');
                
                console.log('üîç Verificando estado del root:', root ? root.innerHTML.length : 'NO ENCONTRADO');
                
                // Si el root est√° vac√≠o o React no se carg√≥, mostrar login de emergencia
                if (!root || root.innerHTML.trim() === '' || root.innerHTML.length < 100) {
                    console.warn('‚ö†Ô∏è React no se carg√≥ correctamente, activando login de emergencia');
                    if (emergencyLogin) {
                        emergencyLogin.style.display = 'flex';
                        root.style.display = 'none';
                    }
                } else {
                    console.log('‚úÖ React cargado correctamente');
                    if (emergencyLogin) {
                        emergencyLogin.style.display = 'none';
                    }
                }
            }, 3000);
            
            // Funci√≥n global de navegaci√≥n para emergencias
            window.navegarCrearUsuario = function() {
                console.log('ÔøΩ NAVEGACION CREAR USUARIO - M√©todo ultra-robusto');
                const metodos = [
                    () => window.location.href = '/registro-nuevo',
                    () => window.location.assign('/registro-nuevo'),
                    () => window.location.replace('/registro-nuevo'),
                    () => window.open('/registro-nuevo', '_self')
                ];
                
                for (let i = 0; i < metodos.length; i++) {
                    try {
                        metodos[i]();
                        console.log(`‚úÖ M√©todo ${i + 1} ejecutado exitosamente`);
                        break;
                    } catch (error) {
                        console.warn(`‚ö†Ô∏è M√©todo ${i + 1} fall√≥:`, error);
                        if (i === metodos.length - 1) {
                            alert('Error: No se pudo navegar. Por favor, ve manualmente a /registro-nuevo');
                        }
                    }
                }
            };
        })();
    </script>
    
    <script type="module" src="/src/main.jsx"></script>
    
    <!-- Script de debugging adicional -->
    <script>
        console.log('üîç HTML cargado, verificando React...');
        console.log('üîß Configuraci√≥n de entorno aplicada');
        
        // Verificar que el elemento root existe
        setTimeout(() => {
            const root = document.getElementById('root');
            console.log('üì¶ Elemento root:', root);
            console.log('üìù Contenido del root:', root ? root.innerHTML.substring(0, 200) + '...' : 'NO ENCONTRADO');
            
            // Si est√° vac√≠o despu√©s de 5 segundos, mostrar bot√≥n de emergencia
            if (root && root.innerHTML.trim() === '') {
                console.warn('‚ö†Ô∏è Root vac√≠o despu√©s de 5 segundos');
                const emergency = document.getElementById('emergency-nav');
                if (emergency) {
                    emergency.style.display = 'block';
                }
            }
        }, 5000);
    </script>
</body>
</html>