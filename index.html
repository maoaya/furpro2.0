<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>FutPro</title>
    <meta name="description" content="FutPro - Red social de f칰tbol profesional" />
    <link rel="manifest" href="/manifest.json" />
    <meta name="theme-color" content="#181818" />
    <link rel="icon" type="image/png" href="/assets/favicon.png" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  </head>
  <body style="background:#181818;color:#fff">
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>
            </div>
        </aside>
    </div>

    <!-- 游꿡 Penalty Game Modal -->
    <div id="penaltyGameModal" class="modal hidden">
        <div class="modal-content penalty-game-content">
            <div class="modal-header">
                <h2><i class="fas fa-futbol"></i> Juego de Penaltis</h2>
                <button class="close-btn" onclick="closePenaltyGame()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="penalty-game-container">
                <!-- Penalty game content will be loaded here -->
            </div>
        </div>
    </div>

    <!-- 游닠 Live Stream Modal -->
    <div id="liveStreamModal" class="modal hidden">
        <div class="modal-content stream-content">
            <div class="modal-header">
                <h2><i class="fas fa-video"></i> Transmisi칩n en Vivo</h2>
                <button class="close-btn" onclick="closeStream()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="stream-container">
                <!-- Stream content will be loaded here -->
            </div>
        </div>
    </div>

    <!-- 游댒 Notifications Panel -->
    <div id="notificationsPanel" class="notifications-panel hidden">
        <div class="panel-header">
            <h3><i class="fas fa-bell"></i> Notificaciones</h3>
            <button class="close-panel" onclick="closeNotifications()">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="notifications-list" id="notificationsList">
            <!-- Notifications will be loaded here -->
        </div>
    </div>

    <!-- 游눫 Chat Panel -->
    <div id="chatPanel" class="chat-panel hidden">
        <div class="panel-header">
            <h3><i class="fas fa-comment"></i> Mensajes</h3>
            <button class="close-panel" onclick="closeChat()">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="chat-list" id="chatList">
            <!-- Chat conversations will be loaded here -->
        </div>
    </div>

    <!-- 游꿢 Toast Notifications -->
    <div id="toastContainer" class="toast-container"></div>

    <!-- 游댃 Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay hidden">
        <div class="loading-spinner">
            <div class="spinner"></div>
            <p>Cargando...</p>
        </div>
    </div>

    <!-- Selector de rol y botones din치micos -->
    <div id="role-selector-container" style="margin: 30px auto; text-align: center;">
      <label for="roleSelector" style="font-weight: bold;">Selecciona tu rol:</label>
      <select id="roleSelector" style="margin: 0 10px;">
        <option value="player">Jugador</option>
        <option value="sponsor">Patrocinador</option>
        <option value="coach">Entrenador</option>
        <option value="admin">Administrador</option>
        <option value="referee">츼rbitro</option>
        <option value="fan">Aficionado</option>
      </select>
      <button id="cambiarRolBtn">Cambiar rol</button>
    </div>
    <div id="role-buttons-container" style="margin: 20px auto; text-align: center;"></div>
    <script type="module">
      import { supabase } from './src/config/supabase.js';
      // Simulaci칩n de usuario actual
      const userId = 'ID_DEL_USUARIO'; // Reemplaza por el id real del usuario logueado

      // Botones por rol
      const roleButtons = {
        player: [
          { text: 'Ver Partidos', action: () => alert('Ver Partidos') },
          { text: 'Mis Equipos', action: () => alert('Mis Equipos') },
          { text: 'Estad칤sticas', action: () => alert('Estad칤sticas') }
        ],
        sponsor: [
          { text: 'Buscar Jugadores', action: () => alert('Buscar Jugadores') },
          { text: 'Ver Patrocinios', action: () => alert('Ver Patrocinios') }
        ],
        coach: [
          { text: 'Gestionar Equipo', action: () => alert('Gestionar Equipo') },
          { text: 'Ver Jugadores', action: () => alert('Ver Jugadores') }
        ],
        admin: [
          { text: 'Panel de Administraci칩n', action: () => alert('Panel de Administraci칩n') },
          { text: 'Gestionar Usuarios', action: () => alert('Gestionar Usuarios') }
        ],
        referee: [
          { text: 'Ver Partidos Asignados', action: () => alert('Ver Partidos Asignados') }
        ],
        fan: [
          { text: 'Ver Noticias', action: () => alert('Ver Noticias') },
          { text: 'Seguir Equipos', action: () => alert('Seguir Equipos') }
        ]
      };

      function renderRoleButtons(role) {
        const container = document.getElementById('role-buttons-container');
        container.innerHTML = '';
        if (roleButtons[role]) {
          roleButtons[role].forEach(btn => {
            const button = document.createElement('button');
            button.textContent = btn.text;
            button.className = 'btn btn-secondary';
            button.style.margin = '0 8px 8px 0';
            button.onclick = btn.action;
            container.appendChild(button);
          });
        }
      }

      // Inicializar con el rol por defecto
      let currentRole = document.getElementById('roleSelector').value;
      renderRoleButtons(currentRole);

      document.getElementById('roleSelector').addEventListener('change', function(e) {
        currentRole = e.target.value;
        renderRoleButtons(currentRole);
      });

      document.getElementById('cambiarRolBtn').addEventListener('click', async function() {
        // Actualiza el rol en Supabase
        const { error } = await supabase
          .from('users')
          .update({ user_type: currentRole })
          .eq('id', userId);
        if (error) {
          alert('Error al cambiar el rol: ' + error.message);
        } else {
          alert('Rol actualizado correctamente a ' + currentRole);
        }
      });
    </script>
    <script type="module" src="src/main.jsx"></script>
    <footer class="app-footer">
  <a href="https://app.termly.io/dashboard/website/b175d369-77f6-4527-98ad-4b1b44d1c0f0/privacy-policy" target="_blank">
    Pol칤tica de Privacidad
  </a>
  |
  <a href="https://app.termly.io/dashboard/website/b175d369-77f6-4527-98ad-4b1b44d1c0f0/privacy-policy" target="_blank">
    Condiciones del Servicio
  </a>
                </footer>
            </body>
        </html>

